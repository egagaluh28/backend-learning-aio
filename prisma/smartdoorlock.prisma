generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/smartdoorlock"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL_1")
}

model access_room_karyawan {
  id_access_room_karyawan Int @id @default(autoincrement())
  id_karyawan             Int
  id_room                 Int
}

model department {
  id_department   Int     @id @default(autoincrement())
  nama_department String  @db.VarChar(100)
  exclude         Boolean @default(false)
  created_at      Int
  deleted         Boolean
}

model department_section {
  id_section    Int     @id @default(autoincrement())
  id_department Int
  nama_section  String  @db.VarChar(100)
  created_at    Int
  deleted       Boolean
}

model device_rfid {
  id_device_rfid Int     @id @default(autoincrement())
  id_department  Int
  status         Boolean
  data_rfid      String  @db.VarChar(100)
  created_at     Int
  deleted        Boolean
}

model free_access_room {
  id_free_access_room Int @id @default(autoincrement())
  id_karyawan         Int
}

model karyawan {
  id_karyawan     Int     @id @default(autoincrement())
  id_section      Int
  id_position     Int
  nik             String  @db.VarChar(50)
  password        String  @db.VarChar(100)
  nama_karyawan   String  @db.VarChar(100)
  status          Boolean
  uid_rfid        String  @db.VarChar(20)
  disable_remarks Boolean
  foto            String  @db.VarChar(255)
  created_at      Int
  deleted         Boolean
  control_room    Int
  monitoring_room Int
}

model log {
  id_log      Int     @id @default(autoincrement())
  id_room     Int
  id_karyawan Int
  remarks_log String  @db.VarChar(200)
  keterangan  String  @db.VarChar(200)
  access_time Int
  cam         String  @db.VarChar(255)
  send_notif  Boolean
}

model log_status {
  id_log_status Int    @id @default(autoincrement())
  id_room       Int
  locksensor    String @db.VarChar(15)
  auto          String @db.VarChar(15)
  open          String @db.VarChar(15)
  time          Int
}

model log_status_old {
  id_log_status Int    @id @default(autoincrement())
  id_room       Int
  locksensor    String @db.VarChar(15)
  auto          String @db.VarChar(15)
  open          String @db.VarChar(15)
  time          Int
}

model position {
  id_position Int    @id @default(autoincrement())
  position    String @db.VarChar(50)
  ket         String @db.VarChar(50)
}

model public_reader_rfid {
  id_public_reader_rfid Int     @id @default(autoincrement())
  uid_rfid              String  @db.VarChar(50)
  status                Boolean
  token                 Int
  last_update           Int
}

model public_remarks {
  id_public_remarks Int    @id @default(autoincrement())
  remarks_activity  String @db.VarChar(200)
}

model remarks_room {
  id_remarks_room Int    @id @default(autoincrement())
  id_room         Int
  id_karyawan     Int
  remarks_text    String @db.VarChar(200)
  waktu_remarks   Int
}

model room {
  id_room              Int     @id @default(autoincrement())
  id_department        Int
  nama_room            String  @db.VarChar(100)
  type                 String  @db.VarChar(50)
  type_relay           String  @db.VarChar(10)
  locksensor           Boolean
  need_remarks         Boolean
  created_at           Int
  deleted              Boolean
  flag_dashboard       Boolean
  flag_dashboard_dua   Boolean
  flag_dashboard_tiga  Boolean
  flag_dashboard_empat Boolean
  open                 Boolean
  auto                 Boolean
  relay_open           Boolean
  relay_alarm          Boolean
  img_room             String  @db.VarChar(255)
  update_at            Int
}

model room_ip {
  id_room_ip Int    @id @default(autoincrement())
  id_room    Int
  ip         String @db.VarChar(255)
}

model secret_key {
  id_key      Int     @id @default(autoincrement())
  key         String  @db.VarChar(100)
  description String? @db.VarChar(255)
}

model telegram {
  id_telegram Int     @id @default(autoincrement())
  id_room     Int?
  id_chat     String  @db.VarChar(255)
  id_karyawan Int
  enable      Boolean
}

model telegram_door {
  id_telegram_door Int    @id @default(autoincrement())
  id_room          Int
  id_chat          String @db.VarChar(25)
  id_karyawan      Int
  waktu            Int
  enable           Int
}

model user {
  id_user         Int     @id @default(autoincrement())
  id_department   Int
  nama            String  @db.VarChar(50)
  email           String  @db.VarChar(50)
  username        String  @db.VarChar(30)
  password        String  @db.VarChar(100)
  image           String  @db.VarChar(255)
  control_room    Boolean
  monitoring_room Boolean
  role            Int     @db.TinyInt
  deleted         Boolean
}
